<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User Reference:DataIOFilter - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:black; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:blue; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul><li class="toc1"><a href="User_Reference%253AOperator_Module.html">Operator Module</a></li><li class="toc1"><a href="User_Reference%253AOperator_Module_Scripting.html">Operator Scripting</a></li><li class="toc1"><a href="User_Reference%253AModule_Command_Line_Options.html">Module Command Line Options</a></li><li class="toc1"><a href="User_Reference%253AData_File_Formats.html">Data File Formats</a></li><li class="toc1"><a href="User_Reference%253AFilters.html">Configuration Guide</a></li><li class="toc1"><a href="User_FAQ.html">FAQ</a></li><li class="toc1">Applications</li><ul><li class="toc2"><a href="User_Reference%253ACursorTask.html">Cursor Task</a></li><li class="toc2"><a href="https://www.bci2000.org/mediawiki/index.php/User_Reference:P3SpellerTask">P3Speller Task</a></li><li class="toc2"><a href="https://www.bci2000.org/mediawiki/index.php/User_Reference:StimulusPresentation">Stimulus Presentation</a></li></ul><li class="toc1">Tools</li><ul><li class="toc2"><a href="User_Reference%253ABCI2000Certification.html">BCI2000Certification</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Launcher.html">BCI2000Launcher</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Viewer.html">BCI2000Viewer</a></li><li class="toc2"><a href="User_Reference%253ABCI2000FileInfo.html">BCI2000FileInfo</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Export.html">BCI2000Export</a></li><li class="toc2"><a href="User_Reference%253ABCI2000Analysis.html">BCI2000Analysis</a></li><li class="toc2"><a href="User_Reference%253ABCI2000_Offline_Analysis.html">BCI2000 Offline Analysis</a></li><li class="toc2"><a href="User_Reference%253AEloc_Helper.html">Eloc Helper</a></li><li class="toc2"><a href="User_Reference%253AEEGLabImport.html">EEGLabImport</a></li><li class="toc2"><a href="User_Reference%253AMatlab_Tools.html">Matlab Tools</a></li><li class="toc2"><a href="User_Reference%253AMatlab_MEX_Files.html">Matlab MEX Files</a></li><li class="toc2"><a href="User_Reference%253ACommand_Line_Processing.html">Command Line Processing</a></li></ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">DataIOFilter</h1>
 <p class = "subtitle">User Reference</p>
 <hr class = "sep" />
 <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="User_Reference%253ADataIOFilter.html#Function"><span class="tocnumber">1</span> <span class="toctext">Function</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="User_Reference%253ADataIOFilter.html#Parameters"><span class="tocnumber">2</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="User_Reference%253ADataIOFilter.html#Data_Acquisition"><span class="tocnumber">2.1</span> <span class="toctext">Data Acquisition</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="User_Reference%253ADataIOFilter.html#SourceCh"><span class="tocnumber">2.1.1</span> <span class="toctext">SourceCh</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="User_Reference%253ADataIOFilter.html#SampleBlockSize"><span class="tocnumber">2.1.2</span> <span class="toctext">SampleBlockSize</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="User_Reference%253ADataIOFilter.html#SamplingRate"><span class="tocnumber">2.1.3</span> <span class="toctext">SamplingRate</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="User_Reference%253ADataIOFilter.html#ChannelNames"><span class="tocnumber">2.1.4</span> <span class="toctext">ChannelNames</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="User_Reference%253ADataIOFilter.html#SourceChOffset.2C_SourceChGain"><span class="tocnumber">2.1.5</span> <span class="toctext">SourceChOffset, SourceChGain</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="User_Reference%253ADataIOFilter.html#Common_Data_Storage_Parameters"><span class="tocnumber">2.2</span> <span class="toctext">Common Data Storage Parameters</span></a>
<ul>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#DataDirectory"><span class="tocnumber">2.2.1</span> <span class="toctext">DataDirectory</span></a></li>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#DataFile"><span class="tocnumber">2.2.2</span> <span class="toctext">DataFile</span></a></li>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#SubjectName"><span class="tocnumber">2.2.3</span> <span class="toctext">SubjectName</span></a></li>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#SubjectSession"><span class="tocnumber">2.2.4</span> <span class="toctext">SubjectSession</span></a></li>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#SubjectRun"><span class="tocnumber">2.2.5</span> <span class="toctext">SubjectRun</span></a></li>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#ID_System.2C_ID_Amp.2C_ID_Montage"><span class="tocnumber">2.2.6</span> <span class="toctext">ID_System, ID_Amp, ID_Montage</span></a></li>
<li class="toclevel-3"><a href="User_Reference%253ADataIOFilter.html#FileSplittingCondition"><span class="tocnumber">2.2.7</span> <span class="toctext">FileSplittingCondition</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="User_Reference%253ADataIOFilter.html#Visualization"><span class="tocnumber">2.3</span> <span class="toctext">Visualization</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="User_Reference%253ADataIOFilter.html#VisualizeTiming"><span class="tocnumber">2.3.1</span> <span class="toctext">VisualizeTiming</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="User_Reference%253ADataIOFilter.html#VisualizeSource"><span class="tocnumber">2.3.2</span> <span class="toctext">VisualizeSource</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="User_Reference%253ADataIOFilter.html#VisualizeSourceDecimation"><span class="tocnumber">2.3.3</span> <span class="toctext">VisualizeSourceDecimation</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="User_Reference%253ADataIOFilter.html#VisualizeSourceTime"><span class="tocnumber">2.3.4</span> <span class="toctext">VisualizeSourceTime</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="User_Reference%253ADataIOFilter.html#SourceMin.2C_SourceMax"><span class="tocnumber">2.3.5</span> <span class="toctext">SourceMin, SourceMax</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="User_Reference%253ADataIOFilter.html#States"><span class="tocnumber">3</span> <span class="toctext">States</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="User_Reference%253ADataIOFilter.html#Running"><span class="tocnumber">3.1</span> <span class="toctext">Running</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="User_Reference%253ADataIOFilter.html#Recording"><span class="tocnumber">3.2</span> <span class="toctext">Recording</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="User_Reference%253ADataIOFilter.html#SourceTime"><span class="tocnumber">3.3</span> <span class="toctext">SourceTime</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="User_Reference%253ADataIOFilter.html#StimulusTime"><span class="tocnumber">3.4</span> <span class="toctext">StimulusTime</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="User_Reference%253ADataIOFilter.html#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Function">Function</span></h2>
<p>The <i>DataIOFilter</i> is part of every <a href="Technical_Reference%253ACore_Modules.html" title="Technical Reference:Core Modules">source module</a>, and manages data acquisition, storage, and signal calibration into physical units (muV).
For data acquisition, the <i>DataIOFilter</i> interfaces to an <a href="Programming_Reference%253AGenericADC_Class.html" title="Programming Reference:GenericADC Class">ADC</a> component present inside a source module. 
For actual data storage, the <i>DataIOFilter</i> uses one of multiple <a href="Programming_Reference%253AGenericFileWriter_Class.html" title="Programming Reference:GenericFileWriter Class">FileWriter</a> components present in a source module.
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span></h2>
<h3><span class="mw-headline" id="Data_Acquisition">Data Acquisition</span></h3>
<p>Generally, data acquisition parameters are used for AD hardware configuration. If the software interface to the AD hardware does not allow for hardware configuration, data acquisition parameters and actual AD configuration must be synchronized manually.
</p>
<h4><span class="mw-headline" id="SourceCh">SourceCh</span></h4>
<p>The number of channels to digitized, and stored in the data file.
</p>
<h4><span class="mw-headline" id="SampleBlockSize">SampleBlockSize</span></h4>
<p>The number of sample points that make up a <a href="BCI2000_Glossary.html#Sample_Block" title="BCI2000 Glossary">BCI2000 sample block</a>.
The temporal duration of such a sample block is given by the ratio of SampleBlockSize to SamplingRate, and determines timing resolution for feedback.
</p>
<h4><span class="mw-headline" id="SamplingRate">SamplingRate</span></h4>
<p>The number of samples per second per channel.
</p>
<h4><span class="mw-headline" id="ChannelNames">ChannelNames</span></h4>
<p>A list of textual labels associated with channels.
For EEG recordings, channel names should be electrode positions according to the 10-20 system (Fz, CPz, CP3, ...).
While not mandatory, providing labels is a means to document recording locations in the data file itself, so no extra information needs to be maintained.
Also, BCI2000 allows referring to channels by their labels. Thus, channel labels make it easier to avoid errors in configuring feedback parameters.
</p>
<h4><span id="SourceChOffset,_SourceChGain"></span><span class="mw-headline" id="SourceChOffset.2C_SourceChGain">SourceChOffset, SourceChGain</span></h4>
<p>Calibration information defining conversion from AD units into physical units (muV).
Raw data are converted into muV according to
</p><p><img class="mwe-math-fallback-image-inline tex" alt="\textrm{calibrated}_{ch} = (\textrm{raw}_{ch}-\textrm{SourceChOffset}_{ch}) * \textrm{SourceChGain}_{ch}" src="../images/math/a/6/8/a6872a0946fc40f5785f818472d0e457.png" />
</p>
<h3><span class="mw-headline" id="Common_Data_Storage_Parameters">Common Data Storage Parameters</span></h3>
<p>These are storage parameters common to all <a href="User_Reference%253AData_File_Formats.html" title="User Reference:Data File Formats">Data File Formats</a>.
For individual output file formats, additional parameters may be available.
</p>
<h4><span class="mw-headline" id="DataDirectory">DataDirectory</span></h4>
<p>Path to an existing directory. Recorded data will be stored below that directory.
The path may be absolute, or relative to the source module's working directory at startup. Usually, the working directory at startup matches the source module's executable location in the <tt>prog</tt> directory.
</p>
<h4><span class="mw-headline" id="DataFile">DataFile</span></h4>
<p>The path to the data file relative to the directory, including the file name.
</p><p>The <i>DataFile</i> parameter is a string that may contain references to other parameters in the form <tt>${Parameter}</tt>.
By default, it contains a session directory, named according to the <tt>${SubjectSession}</tt> parameter, and a file name containing
the <tt>${SubjectRun}</tt> parameter along with the session number, and a date.
</p><p>Date variables: The user can introduce date and/or time into the file name. One may enter <tt>${DateTime:&lt;format string&gt;}</tt> to add date and/or time in an arbitrary format. <tt>&lt;format string&gt;</tt> must be a date-time format string as defined for the <a rel="nofollow" class="external text" href="https://pubs.opengroup.org/onlinepubs/009695399/functions/strftime.html">POSIX strftime() function</a>. For example, <tt>${DateTime:%F}</tt> will produce the date in the standard format YYYY-MM-DD. Be careful with time formats which will typically contain the&#160;: character, which is illegal in Windows file names. To produce both date and time, use <tt>${DateTime:%F-%H-%M-%S}</tt>.
</p><p><b>NOTE:</b> When the file name contains both a run number, and a date/time string, auto-incrementing the run number will not work properly. Auto-incrementing the run number depends on all other components of the file name being constant, which is not the case for
date and time.
</p>
<h4><span class="mw-headline" id="SubjectName">SubjectName</span></h4>
<p>A textual ID for the subject. This text may appear in session directories, and data file names.
</p>
<h4><span class="mw-headline" id="SubjectSession">SubjectSession</span></h4>
<p>A textual ID for the current session. Sessions correspond to data directories.
By default, the path of a session directory is constructed according to
</p>
<pre>${DataDirectory}/${SubjectName}${SubjectSession}
</pre>
<h4><span class="mw-headline" id="SubjectRun">SubjectRun</span></h4>
<p>A number indicating the current run. Runs correspond to data files. To avoid accidental loss of data, run numbers are auto-incremented to the largest unused value.
Within a session directory, data file names are by default constructed according to
</p>
<pre>${SubjectName}S${SubjectSession}R${SubjectRun}.${FileFormat}
</pre>
<p>By default, a data file's extension depends on its <a href="User_Reference%253AData_File_Formats.html" title="User Reference:Data File Formats">File Format</a>.
</p>
<h4><span id="ID_System,_ID_Amp,_ID_Montage"></span><span class="mw-headline" id="ID_System.2C_ID_Amp.2C_ID_Montage">ID_System, ID_Amp, ID_Montage</span></h4>
<p>These parameters are provided for documentation purposes and may contain arbitrary text.
</p>
<h4><span class="mw-headline" id="FileSplittingCondition">FileSplittingCondition</span></h4>
<p>While recording, recorded files may be split into multiple files with <b>part2, part3, ... partN</b> appended to the file name (before the extension). The first file will not be renamed to <b>part1</b>, though.
When a condition is entered into the <i>FileSplittingCondition</i> parameter, it will be evaluated after each block of data has been written. Each time the condition is fulfilled, the old file will be closed, and a new one will be opened. Each partial file will be a valid file in the chosen <i>FileWriter's</i> format in its own right; only file names will carry information about how files should be combined to result in the full run file.
</p><p>Conditions are simple strings representing either 
</p>
<ul><li>a temporal duration, e.g. 00:00:30 for a duration of 30 seconds, or</li>
<li>a file size, e.g. 1.5MB for a size of 1.5 megabytes. Units of kB, MB, GB, TB and kiB, MiB, GiB, and TiB are supported. Prefixes without the <i>i</i> will refer to powers of 1000, whereas prefixes with an <i>i</i> refer to powers of 1024.</li></ul>
<p>By default, the <i>FileSplittingCondition</i> parameter is empty, i.e. no file splitting occurs.
</p>
<h3><span class="mw-headline" id="Visualization">Visualization</span></h3>
<h4><span class="mw-headline" id="VisualizeTiming">VisualizeTiming</span></h4>
<p>Switches display of timing information on or off.
See <a href="https://www.bci2000.org/mediawiki/index.php/User_Reference:Timing" title="User Reference:Timing">User Reference:Timing</a> for details.
</p>
<h4><span class="mw-headline" id="VisualizeSource">VisualizeSource</span></h4>
<p>Switches display of the raw source signal on or off.
</p>
<h4><span class="mw-headline" id="VisualizeSourceDecimation">VisualizeSourceDecimation</span></h4>
<p>An integer decimation factor for the source signal display, resulting in display of every N-th sample only.
</p>
<h4><span class="mw-headline" id="VisualizeSourceTime">VisualizeSourceTime</span></h4>
<p>The amount of time displayed in the source signal display.
</p>
<h4><span id="SourceMin,_SourceMax"></span><span class="mw-headline" id="SourceMin.2C_SourceMax">SourceMin, SourceMax</span></h4>
<p>For the source signal display, the minimum and maximum expected signal value in microvolts.
SourceMin may exceed SourceMax to allow inversion of the signal display.
</p>
<h2><span class="mw-headline" id="States">States</span></h2>
<h3><span class="mw-headline" id="Running">Running</span></h3>
<p>1 while data is being processed, 0 in suspended state.
Setting this state to 0 from a filter, or over the <a href="Technical_Reference%253AApp_Connector.html" title="Technical Reference:App Connector">App Connector</a> interface, will result in BCI2000 being suspended.
</p>
<h3><span class="mw-headline" id="Recording">Recording</span></h3>
<p>1 while data is being recorded, 0 otherwise.
In a data file, this state will always be 1.
</p>
<h3><span class="mw-headline" id="SourceTime">SourceTime</span></h3>
<p>A 16-bit time stamp with a resolution of 1ms, and wrap-around occurring every 65536ms.
The time stamp is set immediately after a block of data has been acquired from the AD converter.
</p>
<h3><span class="mw-headline" id="StimulusTime">StimulusTime</span></h3>
<p>A 16-bit time stamp in the same format as the <i>SourceTime</i> state.
This time stamp is set immediately after the application module has updated the stimulus/feedback display.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a href="User_Reference%253AData_File_Formats.html" title="User Reference:Data File Formats">User Reference:Data File Formats</a>, <a href="Contributions%253AADCs.html" title="Contributions:ADCs">Contributions:ADCs</a>
</p>
<!-- 
NewPP limit report
Cached time: 20230524134005
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.029 seconds
Real time usage: 0.035 seconds
Preprocessor visited node count: 85/1000000
Post‐expand include size: 4094/2097152 bytes
Template argument size: 75/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 233/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.557      1 Template:StorageParams
100.00%    6.557      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:1490-0!canonical!math=0 and timestamp 20230524134005 and revision id 3801
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=User_Reference:DataIOFilter&amp;oldid=3801">http://www.bci2000.org/mediawiki/index.php?title=User_Reference:DataIOFilter&amp;oldid=3801</a>"</div>
 </div>
</body>
</html>