<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Contributions:gEstimFilter - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:black; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:blue; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul><li class="toc1"><a href="Contributions%253AADCs.html">Data Acquisition</a></li><li class="toc1"><a href="Contributions%253AFileWriters.html">File Formats</a></li><li class="toc1"><a href="Contributions%253ASignalProcessing.html">Signal Processing</a></li><li class="toc1"><a href="Contributions%253AApplications.html">Applications</a></li><li class="toc1"><a href="Contributions%253ATools.html">Tools</a></li></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">gEstimFilter</h1>
 <p class = "subtitle">Contributions</p>
 <hr class = "sep" />
 <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Contributions%253AgEstimFilter.html#Synopsis"><span class="tocnumber">1</span> <span class="toctext">Synopsis</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Contributions%253AgEstimFilter.html#Versioning"><span class="tocnumber">2</span> <span class="toctext">Versioning</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Contributions%253AgEstimFilter.html#Authors"><span class="tocnumber">2.1</span> <span class="toctext">Authors</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Contributions%253AgEstimFilter.html#Source_Code_Revisions"><span class="tocnumber">2.2</span> <span class="toctext">Source Code Revisions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="Contributions%253AgEstimFilter.html#Functional_Description"><span class="tocnumber">3</span> <span class="toctext">Functional Description</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="Contributions%253AgEstimFilter.html#Integration_into_BCI2000"><span class="tocnumber">4</span> <span class="toctext">Integration into BCI2000</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Contributions%253AgEstimFilter.html#Usage"><span class="tocnumber">5</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="Contributions%253AgEstimFilter.html#Parameters"><span class="tocnumber">6</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="Contributions%253AgEstimFilter.html#ActivateEstim"><span class="tocnumber">6.1</span> <span class="toctext">ActivateEstim</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="Contributions%253AgEstimFilter.html#UseStimulusPresentation"><span class="tocnumber">6.2</span> <span class="toctext">UseStimulusPresentation</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="Contributions%253AgEstimFilter.html#StimulationExpression"><span class="tocnumber">6.3</span> <span class="toctext">StimulationExpression</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="Contributions%253AgEstimFilter.html#AbortExpression"><span class="tocnumber">6.4</span> <span class="toctext">AbortExpression</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="Contributions%253AgEstimFilter.html#Modularity"><span class="tocnumber">6.5</span> <span class="toctext">Modularity</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="Contributions%253AgEstimFilter.html#Polarity"><span class="tocnumber">6.6</span> <span class="toctext">Polarity</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="Contributions%253AgEstimFilter.html#PhaseDuration"><span class="tocnumber">6.7</span> <span class="toctext">PhaseDuration</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="Contributions%253AgEstimFilter.html#InterphaseDuration"><span class="tocnumber">6.8</span> <span class="toctext">InterphaseDuration</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="Contributions%253AgEstimFilter.html#Magnitude"><span class="tocnumber">6.9</span> <span class="toctext">Magnitude</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="Contributions%253AgEstimFilter.html#NumberOfPulses"><span class="tocnumber">6.10</span> <span class="toctext">NumberOfPulses</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="Contributions%253AgEstimFilter.html#PulseFrequency"><span class="tocnumber">6.11</span> <span class="toctext">PulseFrequency</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="Contributions%253AgEstimFilter.html#NumberOfTrains"><span class="tocnumber">6.12</span> <span class="toctext">NumberOfTrains</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="Contributions%253AgEstimFilter.html#FrequencyOfTrains"><span class="tocnumber">6.13</span> <span class="toctext">FrequencyOfTrains</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="Contributions%253AgEstimFilter.html#Jitter"><span class="tocnumber">6.14</span> <span class="toctext">Jitter</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="Contributions%253AgEstimFilter.html#QuietStimulation"><span class="tocnumber">6.15</span> <span class="toctext">QuietStimulation</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="Contributions%253AgEstimFilter.html#ElectrodeType"><span class="tocnumber">6.16</span> <span class="toctext">ElectrodeType</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="Contributions%253AgEstimFilter.html#CircleDiameter"><span class="tocnumber">6.17</span> <span class="toctext">CircleDiameter</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="Contributions%253AgEstimFilter.html#ContactDiameter"><span class="tocnumber">6.18</span> <span class="toctext">ContactDiameter</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="Contributions%253AgEstimFilter.html#ContactLength"><span class="tocnumber">6.19</span> <span class="toctext">ContactLength</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="Contributions%253AgEstimFilter.html#ExposedSurfaceArea"><span class="tocnumber">6.20</span> <span class="toctext">ExposedSurfaceArea</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="Contributions%253AgEstimFilter.html#State_Variables"><span class="tocnumber">7</span> <span class="toctext">State Variables</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="Contributions%253AgEstimFilter.html#EstimStimulus"><span class="tocnumber">7.1</span> <span class="toctext">EstimStimulus</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="Contributions%253AgEstimFilter.html#EstimCurrent"><span class="tocnumber">7.2</span> <span class="toctext">EstimCurrent</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="Contributions%253AgEstimFilter.html#EstimVoltage"><span class="tocnumber">7.3</span> <span class="toctext">EstimVoltage</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="Contributions%253AgEstimFilter.html#EstimImpedance"><span class="tocnumber">7.4</span> <span class="toctext">EstimImpedance</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34"><a href="Contributions%253AgEstimFilter.html#Stimulation_Parameter_GUI"><span class="tocnumber">8</span> <span class="toctext">Stimulation Parameter GUI</span></a></li>
<li class="toclevel-1 tocsection-35"><a href="Contributions%253AgEstimFilter.html#Latency"><span class="tocnumber">9</span> <span class="toctext">Latency</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Synopsis">Synopsis</span></h2>
<div class="thumb tright"><div class="thumbinner" style="width:402px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstim_PRO.jpg" class="image"><img alt="" src="../images/thumb/7/77/GEstim_PRO.jpg/400px-GEstim_PRO.jpg" decoding="async" width="400" height="281" class="thumbimage" srcset="../images/thumb/7/77/GEstim_PRO.jpg/600px-GEstim_PRO.jpg 1.5x, ../images/7/77/GEstim_PRO.jpg 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstim_PRO.jpg" class="internal" title="Enlarge"></a></div>g.tec g.Estim PRO cortical stimulator</div></div></div>
<p>This filter allows for cortical stimulation with the g.tec gEstim PRO.
</p>
<h2><span class="mw-headline" id="Versioning">Versioning</span></h2>
<h3><span class="mw-headline" id="Authors">Authors</span></h3>
<p>Kristopher Kaleb Goering (kaleb.goering@gmail.com)
</p><p>Alexander Belsten (belsten@neurotechcenter.org)
</p>
<h3><span class="mw-headline" id="Source_Code_Revisions">Source Code Revisions</span></h3>
<ul><li>Initial development: --</li>
<li>Tested under: 6191</li>
<li>Known to compile under: 6191</li>
<li>Broken since: --</li></ul>
<h2><span class="mw-headline" id="Functional_Description">Functional Description</span></h2>
<p>This extension resides in the Application module and allows for electrical stimulation.
Note: As of rev.6131, this extension does not work the the gEstim FES Research. The extension has only been tested with the g.Estim PRO.
</p>
<h2><span class="mw-headline" id="Integration_into_BCI2000">Integration into BCI2000</span></h2>
<p>This extension resides in the private directory of BCI2000. It must be enabled in CMake by selecting <code>BUILD_GESTIMFILTER</code>. Then recompile the <code>BCI2000FrameworkAppModule</code>, and the application module you are using. Lastly, append the enable flag to your batch file (ex: <code>Start executable StimulusPresentation --local --ActivateEstim=1</code>).
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<h2><span class="mw-headline" id="Parameters">Parameters</span></h2>
<p>The gEstim device is configured in the gEstim tab.  The configurable parameters are:
</p>
<h3><span class="mw-headline" id="ActivateEstim">ActivateEstim</span></h3>
<p>Enables/disables device.
</p>
<h3><span class="mw-headline" id="UseStimulusPresentation">UseStimulusPresentation</span></h3>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:Estim_with_StimulusPresentation.png" class="image"><img alt="" src="../images/thumb/2/27/Estim_with_StimulusPresentation.png/600px-Estim_with_StimulusPresentation.png" decoding="async" width="600" height="308" class="thumbimage" srcset="../images/thumb/2/27/Estim_with_StimulusPresentation.png/900px-Estim_with_StimulusPresentation.png 1.5x, ../images/thumb/2/27/Estim_with_StimulusPresentation.png/1200px-Estim_with_StimulusPresentation.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:Estim_with_StimulusPresentation.png" class="internal" title="Enlarge"></a></div>Figure 1: Adding an additional row labeled <code>EstimOn</code> to stimuli to trigger stimulation</div></div></div></div>
<p>This parameter can be enabled when using the Stimulus Presentation application module, and it is desired to stimulate on a particular stimulus, as defined in Stimulus Presentation's Stimuli parameter. To configure this functionality, enable this parameter and then navigate to the Application tab in BCI2000 and scroll down to the Stimuli matrix, as shown in Fig. 1. After opening the Stimuli matrix, add another row and name it <code>EstimOn</code>. Now, stimulation will be triggered on all stimuli defined in this matrix has its <code>EstimOn</code> row set to <code>1</code>. Stimulation will not occur on stimuli that have this row set to <code>0</code>.
</p>
<h3><span class="mw-headline" id="StimulationExpression">StimulationExpression</span></h3>
<p>Expression to start g.Estim stimulation. See the <a href="User_Reference%253AExpression_Syntax.html" title="User Reference:Expression Syntax">expression</a> page for more details on how to define an expression. 
</p>
<h3><span class="mw-headline" id="AbortExpression">AbortExpression</span></h3>
<p>Expression to abort g.Estim stimulation.
</p>
<h3><span class="mw-headline" id="Modularity">Modularity</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:602px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstim_pulse_parameters.png" class="image"><img alt="" src="../images/thumb/1/1b/GEstim_pulse_parameters.png/600px-GEstim_pulse_parameters.png" decoding="async" width="600" height="531" class="thumbimage" srcset="../images/thumb/1/1b/GEstim_pulse_parameters.png/900px-GEstim_pulse_parameters.png 1.5x, ../images/thumb/1/1b/GEstim_pulse_parameters.png/1200px-GEstim_pulse_parameters.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstim_pulse_parameters.png" class="internal" title="Enlarge"></a></div>Configurable parameters of stimulation profile</div></div></div>
<p>Modularity of pulses; Biphasic or Monophasic
</p>
<h3><span class="mw-headline" id="Polarity">Polarity</span></h3>
<p>Polarity of pulses; Alternating or Steady
</p>
<h3><span class="mw-headline" id="PhaseDuration">PhaseDuration</span></h3>
<p>Duration of time of each +/- phase.
</p>
<h3><span class="mw-headline" id="InterphaseDuration">InterphaseDuration</span></h3>
<p>Duration of time with no stimulation between each pulse's phases.
</p>
<h3><span class="mw-headline" id="Magnitude">Magnitude</span></h3>
<p>Magnitude of the pulse in milliamps. This quantity is peak-to-zero. 
</p>
<h3><span class="mw-headline" id="NumberOfPulses">NumberOfPulses</span></h3>
<p>Number of pulses per train.
</p>
<h3><span class="mw-headline" id="PulseFrequency">PulseFrequency</span></h3>
<p>Frequency of each pulse in a train. Note that the <i>PhaseDuration</i> and <i>InterphaseDuration</i> impose a limit on the <i>PulseFrequency</i>. Make sure this parameter adheres to this limitation. 
</p>
<h3><span class="mw-headline" id="NumberOfTrains">NumberOfTrains</span></h3>
<p>Number of trains.
</p>
<h3><span class="mw-headline" id="FrequencyOfTrains">FrequencyOfTrains</span></h3>
<p>Frequency of trains. Note that the total duration of each train (determined by length of each pulse and the number of pulses) imposes a restriction on this parameter. Make sure that <i>FrequencyOfTrains</i> adheres to this restriction. 
</p>
<h3><span class="mw-headline" id="Jitter">Jitter</span></h3>
<p>Jitter of trains between 0 and 100% in increments of 1%
</p>
<h3><span class="mw-headline" id="QuietStimulation">QuietStimulation</span></h3>
<p>Enable to silent the stimulation. 
</p>
<h3><span class="mw-headline" id="ElectrodeType">ElectrodeType</span></h3>
<p>Type of electrode being used: 1 Circle, 2 Depth, 3 Other.
</p>
<h3><span class="mw-headline" id="CircleDiameter">CircleDiameter</span></h3>
<p>For circle electrode type. Exposed diameter of the electrode in micrometers in increments of 1&#956;m.
</p>
<h3><span class="mw-headline" id="ContactDiameter">ContactDiameter</span></h3>
<p>For depth electrode type. Contact diameter of the electrode in micrometers in increments of 1&#956;m.
</p>
<h3><span class="mw-headline" id="ContactLength">ContactLength</span></h3>
<p>For depth electrode type. Contact length of the electrode in micrometers in increments of 1&#956;m.
</p>
<h3><span class="mw-headline" id="ExposedSurfaceArea">ExposedSurfaceArea</span></h3>
<p>For other electrode type. Exposed surface area of electrode in square micrometers between in increments of 1&#956;m<sup>2</sup>.
</p>
<h2><span class="mw-headline" id="State_Variables">State Variables</span></h2>
<h3><span class="mw-headline" id="EstimStimulus">EstimStimulus</span></h3>
<p>This binary state is <code>1</code> when a stimulation train is running and <code>0</code> otherwise.s
</p>
<h3><span class="mw-headline" id="EstimCurrent">EstimCurrent</span></h3>
<p>Applied current in µA, reported from the stimulator. 16 bit state.
</p>
<h3><span class="mw-headline" id="EstimVoltage">EstimVoltage</span></h3>
<p>Applied voltage in mV, reported from the stimulator. 16 bit state.
</p>
<h3><span class="mw-headline" id="EstimImpedance">EstimImpedance</span></h3>
<p>Impedance of tissue in Ω in 16 bit state. Calculated using <code>EstimCurrent</code> and <code>EstimVoltage</code> values.
</p><p><br />
</p>
<h2><span class="mw-headline" id="Stimulation_Parameter_GUI"><a href="User_Reference%253ANeuroStimulationParamsGUI.html" title="User Reference:NeuroStimulationParamsGUI">Stimulation Parameter GUI</a></span></h2>
<p>To help out with creating the BCI2000 parameters, a GUI has been made which should make it easy to translate your stimulation specifications into BCI2000 parameter files. The GUI also visualizes the stimulation from three different perspectives, making it easy to tell if your parameters are really what you want. There is a <a href="User_Reference%253ANeuroStimulationParamsGUI.html" title="User Reference:NeuroStimulationParamsGUI">NeuroStimulationParamsGUI user reference</a> which will further tell you how to use this tool.
</p>
<ul class="gallery mw-gallery-packed">
		<li class="gallerybox" style="width: 884.66666666667px"><div style="width: 884.66666666667px">
			<div class="thumb" style="width: 882.66666666667px;"><div style="margin:0px auto;"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstimGUIimg.png" class="image"><img alt="" src="../images/7/70/GEstimGUIimg.png" decoding="async" width="883" height="500" /></a></div></div>
			<div class="gallerytext">
<p>Figure 3: The gEstim GUI which creates BCI2000 parameters from stimulation specifications.
</p>
			</div>
		</div></li>
</ul>
<h2><span class="mw-headline" id="Latency">Latency</span></h2>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:402px;"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstim_latency.png" class="image"><img alt="" src="../images/thumb/5/50/GEstim_latency.png/400px-GEstim_latency.png" decoding="async" width="400" height="326" class="thumbimage" srcset="../images/thumb/5/50/GEstim_latency.png/600px-GEstim_latency.png 1.5x, ../images/thumb/5/50/GEstim_latency.png/800px-GEstim_latency.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="https://www.bci2000.org/mediawiki/index.php/File:GEstim_latency.png" class="internal" title="Enlarge"></a></div>Latency of stimulation</div></div></div></div>
<p>The above figure details the latency between positive evaluation of the <i>StimulationExpression</i> and pulse delivery.
</p>
<!-- 
NewPP limit report
Cached time: 20230524051530
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.044 seconds
Real time usage: 0.049 seconds
Preprocessor visited node count: 115/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 557/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:2307-0!canonical and timestamp 20230524051530 and revision id 10152
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=Contributions:gEstimFilter&amp;oldid=10152">http://www.bci2000.org/mediawiki/index.php?title=Contributions:gEstimFilter&amp;oldid=10152</a>"</div>
 </div>
</body>
</html>