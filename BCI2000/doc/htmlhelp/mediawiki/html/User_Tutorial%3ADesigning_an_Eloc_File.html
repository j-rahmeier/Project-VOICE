<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User Tutorial:Designing an Eloc File - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:black; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:blue; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul><li class="toc1"><a href="User_Tutorial%253ABCI2000_Tour.html">Tour</a></li><li class="toc1"><a href="User_Tutorial%253AMu_Rhythm_BCI_Tutorial.html">Mu Tutorial</a></li><li class="toc1"><a href="User_Tutorial%253AP300_BCI_Tutorial.html">P300 Tutorial</a></li></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">Designing an Eloc File</h1>
 <p class = "subtitle">User Tutorial</p>
 <hr class = "sep" />
 <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><p>The BCI2000 Offline Analysis tool generates up to three different types of plots to aid you in determining the best features in a given dataset.  One of these plot types - the topographic plot - provides a spatial representation of the subjects response to a given stimulus.  So, when generating such a plot, the electrode layout must be taken into account.  To communicate this layout to the BCI2000 Offline Analysis tool, we use a montage file.  This section of the tutorial will show you how to use the Eloc Helper tool to create and modify montage files.
</p>
<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="User_Tutorial%253ADesigning_an_Eloc_File.html#Creating_a_new_montage_file"><span class="tocnumber">1</span> <span class="toctext">Creating a new montage file</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="User_Tutorial%253ADesigning_an_Eloc_File.html#Modifying_an_existing_montage_file"><span class="tocnumber">2</span> <span class="toctext">Modifying an existing montage file</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="User_Tutorial%253ADesigning_an_Eloc_File.html#Exporting_your_montage_file_for_use_with_BCI2000_Offline_Analysis"><span class="tocnumber">3</span> <span class="toctext">Exporting your montage file for use with BCI2000 Offline Analysis</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="User_Tutorial%253ADesigning_an_Eloc_File.html#Exporting_your_montage_file_for_use_with_BCI2000"><span class="tocnumber">4</span> <span class="toctext">Exporting your montage file for use with BCI2000</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="User_Tutorial%253ADesigning_an_Eloc_File.html#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Creating_a_new_montage_file">Creating a new montage file</span></h2>
<p>First, let's create a new ECoG montage file:
</p>
<ol><li>Open the <i>Eloc Helper</i> tool.  If this is your first time using the tool, you may want to briefly review <a href="User_Reference%253AEloc_Helper.html" title="User Reference:Eloc Helper">User Reference:Eloc Helper</a> for instructions on how to install and run this application.</li>
<li>Click File&gt;New&gt;ECoG Montage File to start working on a new ECoG montage file.  Since ECoGs are taken using an electrode grid, you will be given a square electrode map.</li>
<li>Create your first electrode:
<ol><li>Click the "Create New" button.</li>
<li>Set the coordinates by clicking the "Use Grid" button and then clicking on the blank electrode map.</li>
<li>Click the "Update" button after which you should see an electrode marker appear in the location you clicked on in the previous step.  Notice that the marker is labeled with the number "1" (i.e., the value that was set automatically for the number property of the electrode) and that the electrode list has a new item "1: elec" consisting of the electrode number and label.  Try changing the number and label to something else and clicking "Update."  Keep in mind that the number must be a strictly positive integer (i.e., 1, 2, 3...) and that the label must be no more than 4 characters. <a href="https://www.bci2000.org/mediawiki/index.php/File:ElocHelperTutorial1.png" class="image"><img alt="ElocHelperTutorial1.png" src="../images/5/5f/ElocHelperTutorial1.png" width="638" height="443" /></a></li></ol></li></ol>
<p>For the montage files we need to create to work with the data in this tutorial, it is much more convenient to start from an existing file.
</p>
<h2><span class="mw-headline" id="Modifying_an_existing_montage_file">Modifying an existing montage file</span></h2>
<ol><li>Click File&gt;Import&gt;EEG Montage File.</li>
<li>Since we added a new electrode in the previous section, you will be asked if it's okay to overwrite all the current entries.  Click "Yes".</li>
<li>In the "Choose a montage file" file browser, navigate to <tt>data/samplefiles</tt> and double-click or otherwise open the "eeg58.loc" file.</li></ol>
<p>"eeg58.loc" is a montage file for an electrode cap with 58 electrodes.  The electrode layout for the data we'll be analyzing later is very similar, but it has 6 more electrodes which are marked in the diagram below.  So, to create the 64 electrode montage file, we can simply modify the 58 electrode montage file that we've already imported.  When we do this, we must make sure that the numbers in the new montage file are the same as in the diagram below as these numbers correspond to channels on an amplifier.
<a href="https://www.bci2000.org/mediawiki/index.php/File:ElocHelperTutorialEloc64.png" class="image"><img alt="ElocHelperTutorialEloc64.png" src="../images/b/bc/ElocHelperTutorialEloc64.png" width="397" height="352" /></a>
</p><p>In <i>Eloc Helper</i>, when an electrode is added with a number that is already taken by another electrode, the old electrodes are displaced in order to make room for the new electrode.  This is also the case if an electrode is edited to have the same number as another electrode in the list.  So, the easiest way for us to build the 64 electrode montage file from the 58 electrode montage file is to add the highest number electrodes first.  So, we begin by adding electrode 62 (as labeled in the diagram above):
</p>
<ol><li>Click "Create New" to add a new electrode.  By default, this electrode takes on the number 59, the next available number.</li>
<li>Change the number to 62, the electrode we want to add.</li>
<li>Check the checkbox labeled "Lock".  This prevents the number from being automatically changed as explained above.</li>
<li>Change the label to "Oz", the 10-20 pneumonic for the location.</li>
<li>To set the X and Y coordinates, click "Use Grid" and then click on the electrode map where the missing electrode should go.</li>
<li>Click "Update" to insert the new electrode.  Just as before, the new electrode appears on the electrode map and on the electrode list.  This time, however, the text in the electrode list appears as "62*:Oz".  The "*", in this case, is to indicate that this item is locked.</li></ol>
<p>Now, repeat the same process in the order specified for the electrodes and their respective labels summarized below.  As you add each electrode, notice how the electrodes already in the list move only enough to make way for the new electrode.  Also notice that the electrodes you've locked will not move at all.
</p>
<table cellspacing="0" border="1">
<tbody><tr>
<td>Number
</td>
<td>10-20 Label
</td></tr>
<tr>
<td>34
</td>
<td>Fz
</td></tr>
<tr>
<td>19
</td>
<td>Cp2
</td></tr>
<tr>
<td>17
</td>
<td>Cp1
</td></tr>
<tr>
<td>7
</td>
<td>Fc6
</td></tr>
<tr>
<td>1
</td>
<td>Fc5
</td></tr></tbody></table>
<p>Now that you've finished creating your electrode file, you'll want to export it so that it can be used with the <i>BCI2000 Offline Analysis</i> tool.  You may also wish to export to the montage file format supported by <i>BCI2000</i>.  Note that Eloc Helper is not capable of importing <i>BCI2000</i>-formatted montage files.  Therefore, it is recommended that you always export to an <i>Offline Analysis</i>-formatted montage file and then export to a <i>BCI2000</i>-formatted montage file if necessary.  So, let's begin by exporting to an <i>Offline Analysis</i>-formatted montage file as is recommended:
</p>
<h2><span class="mw-headline" id="Exporting_your_montage_file_for_use_with_BCI2000_Offline_Analysis">Exporting your montage file for use with BCI2000 Offline Analysis</span></h2>
<p>Follow these steps to export your new montage file for use with <i>BCI2000 Offline Analysis</i>:
</p>
<ol><li>Click File&gt;Export to&gt;Offline Analysis Montage File.</li>
<li>Navigate to <tt>files/samplefile</tt>.</li>
<li>Enter the filename "myeeg64.loc" and save.</li></ol>
<h2><span class="mw-headline" id="Exporting_your_montage_file_for_use_with_BCI2000">Exporting your montage file for use with BCI2000</span></h2>
<p>Although this step is unnecessary for the purposes of the tutorial, you can follow these steps to export your new montage file for use with <i>BCI2000</i>:
</p>
<ol><li>Click File&gt;Export to&gt;BCI2000 Montage File.</li>
<li>Navigate to <tt>files/samplefile</tt>.</li>
<li>Enter the filename "myeeg64.csv" and save.  Please take note of the "csv" extension as opposed to the "loc" extension used previously.  Although the extension does not matter, we will want to avoid overwriting the file we created in the previous section.</li></ol>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a href="User_Tutorial%253APerforming_an_Offline_Analysis.html" class="mw-redirect" title="User Tutorial:Performing an Offline Analysis">User Tutorial:Performing an Offline Analysis</a>
</p>
<!-- 
NewPP limit report
Cached time: 20200807151309
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.019 seconds
Real time usage: 0.043 seconds
Preprocessor visited node count: 19/1000000
Preprocessor generated node count: 24/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:1684-0!canonical and timestamp 20200807151309 and revision id 3596
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=User_Tutorial:Designing_an_Eloc_File&amp;oldid=3596">http://www.bci2000.org/mediawiki/index.php?title=User_Tutorial:Designing_an_Eloc_File&amp;oldid=3596</a>"</div>
 </div>
</body>
</html>