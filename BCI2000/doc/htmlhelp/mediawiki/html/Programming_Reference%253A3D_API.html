<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Programming Reference:3D API - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:black; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:blue; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul><li class="toc1">Concepts</li><ul><li class="toc2"><a href="Programming_Reference%253AFilter_Chain.html">Filter Chain</a></li><li class="toc2"><a href="Programming_Reference%253ASignals.html">Signals</a></li><li class="toc2"><a href="Programming_Reference%253AError_Handling.html">Error Handling</a></li><li class="toc2"><a href="Programming_Reference%253ALocalization.html">Localization</a></li><li class="toc2"><a href="Programming_Reference%253ARapid_Development.html">Rapid Development</a></li></ul><li class="toc1">Reference</li><ul><li class="toc2"><a href="Programming_Reference%253AGenericFilter_Class.html">GenericFilter</a></li><li class="toc2"><a href="Programming_Reference%253AEnvironment_Class.html">Environment</a></li><li class="toc2"><a href="Programming_Reference%253AGenericVisualization_Class.html">GenericVisualization</a></li><li class="toc2"><a href="Programming_Reference%253AErrors_and_Warnings.html">Errors and Warnings</a></li><li class="toc2"><a href="Programming_Reference%253ADebug_Output.html">Debug Output</a></li></ul><li class="toc1">Data Acquisition</li><ul><li class="toc2"><a href="Programming_Reference%253AGenericADC_Class.html">GenericADC</a></li></ul><li class="toc1">Data Storage</li><ul><li class="toc2"><a href="Programming_Reference%253AGenericFileWriter_Class.html">GenericFileWriter</a></li><li class="toc2"><a href="Programming_Reference%253ABCI2000FileReader_Class.html">BCI2000FileReader</a></li></ul><li class="toc1">Signal Processing</li><ul><li class="toc2"><a href="Programming_Reference%253AIIRFilterBase_Class.html">IIR Filters</a></li></ul><li class="toc1">Application Modules</li><ul><li class="toc2"><a href="Programming_Reference%253AApplicationBase_Class.html">ApplicationBase</a></li><li class="toc2"><a href="Programming_Reference%253AFeedbackTask_Class.html">FeedbackTask</a></li><li class="toc2"><a href="Programming_Reference%253AStimulusTask_Class.html">StimulusTask</a></li><li class="toc2">3D API</li></ul><li class="toc1">Howtos</li><ul><li class="toc2"><a href="Programming_Howto%253ABuilding_BCI2000.html">Building BCI2000</a></li><li class="toc2"><a href="Programming_Howto%253ASVN_Client_Setup.html">SVN Client Setup</a></li><li class="toc2"><a href="Programming_Howto%253AUsing_TortoiseSVN.html">Using TortoiseSVN</a></li></ul><li class="toc1"><a href="Programming_FAQ.html">FAQ</a></li><li class="toc1">Tutorials</li><ul><li class="toc2"><a href="Programming_Tutorial%253AImplementing_a_Data_Acquisition_Module.html">Data Acquisition</a></li><li class="toc2"><a href="Programming_Tutorial%253AImplementing_a_Signal_Processing_Filter.html">Signal Processing</a></li><li class="toc2"><a href="Programming_Tutorial%253AImplementing_a_Matlab-based_Filter.html">Matlab Signal Processing</a></li></ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">3D API</h1>
 <p class = "subtitle">Programming Reference</p>
 <hr class = "sep" />
 <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Programming_Reference%253A3D_API.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Programming_Reference%253A3D_API.html#The_3D_Environment"><span class="tocnumber">2</span> <span class="toctext">The 3D Environment</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Programming_Reference%253A3D_API.html#Predefined_Graphic_Primitives"><span class="tocnumber">2.1</span> <span class="toctext">Predefined Graphic Primitives</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Programming_Reference%253A3D_API.html#Custom_Graphic_Primitives"><span class="tocnumber">2.2</span> <span class="toctext">Custom Graphic Primitives</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Programming_Reference%253A3D_API.html#3D_Text"><span class="tocnumber">2.3</span> <span class="toctext">3D Text</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="Programming_Reference%253A3D_API.html#Camera"><span class="tocnumber">2.4</span> <span class="toctext">Camera</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Programming_Reference%253A3D_API.html#Light_Source"><span class="tocnumber">2.5</span> <span class="toctext">Light Source</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Programming_Reference%253A3D_API.html#The_2D_Overlay"><span class="tocnumber">2.6</span> <span class="toctext">The 2D Overlay</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="Programming_Reference%253A3D_API.html#Overlay_Picture"><span class="tocnumber">2.6.1</span> <span class="toctext">Overlay Picture</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="Programming_Reference%253A3D_API.html#2D_Text"><span class="tocnumber">2.6.2</span> <span class="toctext">2D Text</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="Programming_Reference%253A3D_API.html#2D_Cursor"><span class="tocnumber">2.6.3</span> <span class="toctext">2D Cursor</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="Programming_Reference%253A3D_API.html#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The 3D API uses OpenGL to display 3-dimensional objects in a scene.
Additionally, a 2D overlay may be displayed on top of the scene.
The API was originally created by Shidong Zheng.
3D API source files are located at <tt>src/extlib/3DAPI</tt>.
</p><p>The <a href="User_Reference%253ACursorTask.html" title="User Reference:CursorTask">CursorTask</a> uses the 3D API to display its workspace, cursor, and targets.
</p><p><a href="https://www.bci2000.org/mediawiki/index.php/File:3DEnvironment.png" class="image" title="Graphical Environment"><img alt="Graphical Environment" src="../images/thumb/4/43/3DEnvironment.png/512px-3DEnvironment.png" decoding="async" width="512" height="493" srcset="../images/thumb/4/43/3DEnvironment.png/768px-3DEnvironment.png 1.5x, ../images/thumb/4/43/3DEnvironment.png/1024px-3DEnvironment.png 2x" /></a>
</p>
<h2><span class="mw-headline" id="The_3D_Environment">The 3D Environment</span></h2>
<h3><span class="mw-headline" id="Predefined_Graphic_Primitives">Predefined Graphic Primitives</span></h3>
<p>The 3D environment supports any number of predefined graphic primitives. 
Each graphic primitive can be assigned a number of different properties. 
These are:
</p>
<ul><li>Primitive-specific properties</li>
<li>Generic properties
<ul><li>Brightness (0-255)</li>
<li>Transparency (0-255)</li>
<li>Color (RGB)</li>
<li>Texture</li></ul></li></ul>
<p>Currently implemented primitives are spheres, cuboids,
and infinite planes. 
The position of a sphere is defined by midpoint (XYZ) and radius. Textures are mapped using
circular mapping using arbitrary alignment. The position of a cuboid is defined
by a midpoint (XYZ) and a width, height, and depth (to define the extent in 
X, Y, and Z, respectively). Texture mapping is defined by the orientation and
size of a texture. The only supported mapping type is parallel mapping.
Infinite planes are defined by a point in XYZ coordinates, and a normal vector. 
The only supported texture mapping type is parallel mapping with the texture being parallel to the plane.
</p><p>Once created, there are certain functions that can be applied to any element.
</p>
<ul><li>Change properties</li>
<li>Turn visibility on/off</li>
<li>Move midpoint to XYZ</li>
<li>Test for collision with another element</li>
<li>Rotate element with rotation defined by
<ul><li>Angles in X, Y, Z</li>
<li>Reference point in X, Y, Z</li></ul></li></ul>
<h3><span class="mw-headline" id="Custom_Graphic_Primitives">Custom Graphic Primitives</span></h3>
<p>In addition to built-in primitives, the system also supports custom graphic 
primitives. These primitives can be defined by loading their 3D structure from a 
file and they support the same methods as the predefined primitives except 
collision detection.
</p>
<h3><span class="mw-headline" id="3D_Text">3D Text</span></h3>
<p>The system supports any number of 3D text elements. Each text element
is defined by
</p>
<ul><li>Font</li>
<li>Font size</li>
<li>Caption</li>
<li>Brightness (0-255)</li>
<li>Transparency (0-255)</li>
<li>Color (RGB)</li>
<li>Origin (XYZ)</li>
<li>Direction (XYZ)</li></ul>
<p>The text elements support methods to modify their properties and to turn
them on or off.
</p><p><br />
</p>
<h3><span class="mw-headline" id="Camera">Camera</span></h3>
<p>The 3D environment supports one camera with the following properties:
</p>
<ul><li>Camera View Point (XYZ)</li>
<li>Aim Point (XYZ)</li>
<li>Focal Length</li>
<li>Camera Orientation (what is "up" for the camera) (angle)</li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="Light_Source">Light Source</span></h3>
<p>The 3D environment supports one omni-directional light source. The features that 
describe this light source are:
</p>
<ul><li>Position (XYZ)</li>
<li>Brightness (0-255)</li>
<li>Color (RGB)</li></ul>
<p>In addition, the brightness of white ambient background lighting can be defined.
</p><p><br />
</p>
<h3><span class="mw-headline" id="The_2D_Overlay">The 2D Overlay</span></h3>
<p>The 3D display can be overlayed by a 2D display (see figure above). 
This overlay supports a picture with alpha channel (i.e., 
transparency map), 2D text and a 2D cursor.
</p>
<h4><span class="mw-headline" id="Overlay_Picture">Overlay Picture</span></h4>
<p>An overlay picture can be defined by loading it from disc. This picture is 
stretched to match the window size. Optionally, a transparency map can be 
defined (i.e., in essence, another picture) whose brightness level defines the s
transparency of the overlay. This can create an effect as shown in the figure.
Once defined, an overlay image can be turned on or off.
</p>
<h4><span class="mw-headline" id="2D_Text">2D Text</span></h4>
<p>The system supports any number of 2D text elements. Text elements are always 
displayed on top of the overlay picture. The texts' background is transparent 
and the text itself does not destroy the overlay picture. For each 2D text 
element, the following properties can be defined:
</p>
<ul><li>Position (XY)</li>
<li>Font</li>
<li>Size</li>
<li>Color (RGB)</li></ul>
<h4><span class="mw-headline" id="2D_Cursor">2D Cursor</span></h4>
<p>The system supports one 2D cursor that is always presented as a circle
that is filled with a particular color. Specifically, a 2D cursor has
the following properties:
</p>
<ul><li>Position (XY)</li>
<li>Size</li>
<li>Color (RGB)</li></ul>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a href="User_Reference%253ACursorTask.html" title="User Reference:CursorTask">User Reference:CursorTask</a>
</p>
<!-- 
NewPP limit report
Cached time: 20230524185229
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.023 seconds
Real time usage: 0.026 seconds
Preprocessor visited node count: 37/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:1578-0!canonical and timestamp 20230524185229 and revision id 2409
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=Programming_Reference:3D_API&amp;oldid=2409">http://www.bci2000.org/mediawiki/index.php?title=Programming_Reference:3D_API&amp;oldid=2409</a>"</div>
 </div>
</body>
</html>