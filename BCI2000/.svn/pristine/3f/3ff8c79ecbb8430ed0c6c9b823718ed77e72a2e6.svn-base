<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Contributions:ParallelPortFilter - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:black; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:blue; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul><li class="toc1"><a href="Contributions%253AADCs.html">Data Acquisition</a></li><li class="toc1"><a href="Contributions%253AFileWriters.html">File Formats</a></li><li class="toc1"><a href="Contributions%253ASignalProcessing.html">Signal Processing</a></li><li class="toc1"><a href="Contributions%253AApplications.html">Applications</a></li><li class="toc1"><a href="Contributions%253ATools.html">Tools</a></li></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">ParallelPortFilter</h1>
 <p class = "subtitle">Contributions</p>
 <hr class = "sep" />
 <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Contributions%253AParallelPortFilter.html#Location"><span class="tocnumber">1</span> <span class="toctext">Location</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Contributions%253AParallelPortFilter.html#Versioning"><span class="tocnumber">2</span> <span class="toctext">Versioning</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Contributions%253AParallelPortFilter.html#Authors"><span class="tocnumber">2.1</span> <span class="toctext">Authors</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Contributions%253AParallelPortFilter.html#Version_History"><span class="tocnumber">2.2</span> <span class="toctext">Version History</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Contributions%253AParallelPortFilter.html#Source_Code_Revisions"><span class="tocnumber">2.3</span> <span class="toctext">Source Code Revisions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="Contributions%253AParallelPortFilter.html#Functional_Description"><span class="tocnumber">3</span> <span class="toctext">Functional Description</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="Contributions%253AParallelPortFilter.html#Integration_into_BCI2000"><span class="tocnumber">4</span> <span class="toctext">Integration into BCI2000</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="Contributions%253AParallelPortFilter.html#Configuring_ParallelPortFilter"><span class="tocnumber">5</span> <span class="toctext">Configuring ParallelPortFilter</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="Contributions%253AParallelPortFilter.html#Parameters"><span class="tocnumber">6</span> <span class="toctext">Parameters</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="Contributions%253AParallelPortFilter.html#OutputMode"><span class="tocnumber">6.1</span> <span class="toctext">OutputMode</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="Contributions%253AParallelPortFilter.html#Bit"><span class="tocnumber">6.1.1</span> <span class="toctext">Bit</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="Contributions%253AParallelPortFilter.html#Word"><span class="tocnumber">6.1.2</span> <span class="toctext">Word</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="Contributions%253AParallelPortFilter.html#ParallelPortOutput"><span class="tocnumber">6.2</span> <span class="toctext">ParallelPortOutput</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="Contributions%253AParallelPortFilter.html#See_also"><span class="tocnumber">7</span> <span class="toctext">See also</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Location">Location</span></h2>
<p><a rel="nofollow" class="external free" href="http://www.bci2000.org/svn/trunk/src/contrib/Extensions/ParallelPortFilter">http://www.bci2000.org/svn/trunk/src/contrib/Extensions/ParallelPortFilter</a>
</p>
<h2><span class="mw-headline" id="Versioning">Versioning</span></h2>
<h3><span class="mw-headline" id="Authors">Authors</span></h3>
<p>Kristopher Kaleb Goering (kaleb.goering@gmail.com)
</p><p>Alex Belsten (belsten@neurotechcenter.org)
</p>
<h3><span class="mw-headline" id="Version_History">Version History</span></h3>
<ul><li>2015/06/30: Initial public release</li>
<li>2019/08/09: Added OutputMode</li></ul>
<h3><span class="mw-headline" id="Source_Code_Revisions">Source Code Revisions</span></h3>
<ul><li>Initial development: 4881</li>
<li>Tested under: 6003</li>
<li>Known to compile under: 6003</li>
<li>Broken since: --</li></ul>
<h2><span class="mw-headline" id="Functional_Description">Functional Description</span></h2>
<p>This simple filter extension resides in the Application module and makes output with the parallel port easy. 
</p>
<h2><span class="mw-headline" id="Integration_into_BCI2000">Integration into BCI2000</span></h2>
<p>Compile the extension into your source module by enabling contributed extensions in your CMake configuration.  You can do this by going into your root build folder and opening <code>Configure.sh.cmd</code>. In the CMake GUI, enable <b>EXTENSIONS_PARALLELPORTFILTER</b> and then click generate. Then recompile BCI2000. The filter will be built into the application module and will be ready for use.
</p>
<h2><span class="mw-headline" id="Configuring_ParallelPortFilter">Configuring ParallelPortFilter</span></h2>
<p>The ParallelPortFilter  is configured by the OutputMode and ParallelPortOutput parameters. If there are zero rows in the ParallelPortOutput matrix then nothing will be outputted to the parallel ports available on the system. See the <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Parallel_port#Pinouts">Parallel Port Wiki</a> for information about the pins that are available for writing to by the ParallelPortFilter.
</p><p>To find the hardware address for the parallel ports for your machine, press <b>WIN</b> + <b>R</b> and enter <i>devmgmt.msc</i>. In Device Manager, expand the section labeled <b>Ports (Com &amp; LPT)</b>. If this section does not exist, you probably do not have LPT ports or the driver is not installed properly. Find the one labeled with (LPT1) or whatever port you are looking for. The label (LPT1 in this example) is the device name and is how the parrallel port is addressed in the ParallelPortOutput matrix parameter. 
</p><p>The hardware address can be found by right clicking the LPT port and selecting Properties. In the Resources tab, there is a field called I/O Range and take the first value of the range which is in hexadecimal. If multiple I/O Range, read the first one; if that does not work, try the other one. These instructions for finding the address has been tested on Windows XP, 7, 8 and 10.
</p><p>If your BCI2000 operator is reporting that your LPT cannot be switched to byte mode, then you need to do the additional step of "enable legacy device" in the properties of LPT in your device manager.
</p><p><a href="https://www.bci2000.org/mediawiki/index.php/File:ParallelPortAddress.JPG" class="image"><img alt="ParallelPortAddress.JPG" src="../images/4/4e/ParallelPortAddress.JPG" decoding="async" width="797" height="579" /></a>
</p>
<h2><span class="mw-headline" id="Parameters">Parameters</span></h2>
<p>The ParallelPortFilter is configured in the ParallelPort tab.  The configurable parameters are:
</p>
<h3><span class="mw-headline" id="OutputMode">OutputMode</span></h3>
<p>This parameter effects the way that the ParallelPortOutput parameter is interpreted. There are two options for OutputMode, Word and Bit.
</p>
<h4><span class="mw-headline" id="Bit">Bit</span></h4>
<p>Bit mode is useful when the pins on the parallel port correspond to expressions that return Boolean values. The order in which the pins are written to for a LPT port corresponds to the order in which they appear in the ParallelPortOutput matrix. See the following image for an example:
</p><p><a href="https://www.bci2000.org/mediawiki/index.php/File:BitMode_matrix.png" class="image"><img alt="BitMode matrix.png" src="../images/8/80/BitMode_matrix.png" decoding="async" width="520" height="353" /></a>
</p><p>In this example there are two parallel ports available on the system, LPT1 and LPT2. StimulusCode, Running and Recording are states that are set by the Application module (specifically the Stimulus Presentation module) and Source module. See <a href="https://www.bci2000.org/mediawiki/index.php/User_Reference:States" title="User Reference:States">User Reference:States</a> for information on states. Data0 of LPT1 will be set high when the StimulusCode is equal to zero, data1 of LPT1 will always be low and data3 of LPT1 will be be high when StimulusCode is greater than 5. For LPT2, data0 will be set high when Running is equal to one and data1 will be high when Recording is equal to one. 
</p>
<h4><span class="mw-headline" id="Word">Word</span></h4>
<p>Word mode allows the user to write words (8 bit values) to a parallel port. See the following image for an example:
</p><p><a href="https://www.bci2000.org/mediawiki/index.php/File:WordMode_matrix.png" class="image"><img alt="WordMode matrix.png" src="../images/d/d8/WordMode_matrix.png" decoding="async" width="520" height="353" /></a>
</p><p>In this example, there are two parallel ports available on the system. KeyDown and KeyUp are outputted on the LPT1 and LPT2, respectively. KeyDown and KeyUp are both 8 bit values the correspond to input from a keyboard. See <a href="User_Reference%253ALogging_Input.html" title="User Reference:Logging Input">User Reference:Logging Input</a> for more information. The least significant bit of KeyDown is outputted to data0 and most significant bit is outputted to data7.  
</p>
<h3><span class="mw-headline" id="ParallelPortOutput">ParallelPortOutput</span></h3>
<p>This matrix of expressions that controls the outputs on the parallel ports. There should always be two columns, Device Name and Expression. Device Name should be the LPT device you want to connect to and the output for the device is what the Expression evaluates to. For more on expressions, see <a href="User_Reference%253AExpression_Syntax.html" title="User Reference:Expression Syntax">Expressions</a>.
</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<p><a href="User_Reference%253ALogging_Input.html" title="User Reference:Logging Input">User Reference:Logging Input</a>, <a href="Contributions%253AExtensions.html" title="Contributions:Extensions">Contributions:Extensions</a>
</p>
<!-- 
NewPP limit report
Cached time: 20230524100303
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.029 seconds
Real time usage: 0.034 seconds
Preprocessor visited node count: 50/1000000
Post‐expand include size: 15/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:2080-0!canonical and timestamp 20230524100303 and revision id 9644
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=Contributions:ParallelPortFilter&amp;oldid=9644">http://www.bci2000.org/mediawiki/index.php?title=Contributions:ParallelPortFilter&amp;oldid=9644</a>"</div>
 </div>
</body>
</html>