<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Programming Reference:Filter Chain - BCI2000 Help</title>
<link rel='shortcut icon' href='../../rsrc/favicon.ico' />
<style type='text/css'>
html { font-size:95%; font-family:arial,helvetica,sans-serif }
.printfooter { display:none }
#tocmain { font-size:81%; font-weight:bold; color:black; background-color:white; border:1px solid black; padding:1em; z-index:10; position:fixed; left:-1px; top:-1px; width:150px; }
#tocmain a { color:blue; text-decoration:none }
#tocmain ul { margin:0 0 0 0.4em; padding:0.1em 0 0 0.1em; list-style-position:outside; list-style-type:disc }
#tocmain li { text-indent:0; margin:0 0 0 1em; padding: 0 0 0 0 }
#tocmain p { margin:0; padding:0.1em 0 0 0.1em }
#tocmain .toc1 { margin-left:1.25em; }
#tocmain .toc2 { margin-left:2.25em; }
#tocmain .toc3 { margin-left:3.25em; }
#article { font-size:91%; position:absolute; left:200px; right:0; padding:1em; margin:0 }
</style>
</head>
<body>
 <div id='tocmain'>
 <a href='Main_Page.html'><img src='../../rsrc/bci2000logo.svg' alt='[Main Page]' /></a> <hr class="sep" /><p class="toc0"><a href="User_Tutorial%253ABCI2000_Tour.html">GettingStarted</a></p><ul></ul><p class="toc0"><a href="User_Reference%253AContents.html">User Manual</a></p><ul></ul><p class="toc0"><a href="Technical_Reference%253AContents.html">Technical Reference</a></p><ul></ul><p class="toc0"><a href="Programming_Reference%253AContents.html">Programming Manual</a></p><ul><li class="toc1">Concepts</li><ul><li class="toc2">Filter Chain</li><li class="toc2"><a href="Programming_Reference%253ASignals.html">Signals</a></li><li class="toc2"><a href="Programming_Reference%253AError_Handling.html">Error Handling</a></li><li class="toc2"><a href="Programming_Reference%253ALocalization.html">Localization</a></li><li class="toc2"><a href="Programming_Reference%253ARapid_Development.html">Rapid Development</a></li></ul><li class="toc1">Reference</li><ul><li class="toc2"><a href="Programming_Reference%253AGenericFilter_Class.html">GenericFilter</a></li><li class="toc2"><a href="Programming_Reference%253AEnvironment_Class.html">Environment</a></li><li class="toc2"><a href="Programming_Reference%253AGenericVisualization_Class.html">GenericVisualization</a></li><li class="toc2"><a href="Programming_Reference%253AErrors_and_Warnings.html">Errors and Warnings</a></li><li class="toc2"><a href="Programming_Reference%253ADebug_Output.html">Debug Output</a></li></ul><li class="toc1">Data Acquisition</li><ul><li class="toc2"><a href="Programming_Reference%253AGenericADC_Class.html">GenericADC</a></li></ul><li class="toc1">Data Storage</li><ul><li class="toc2"><a href="Programming_Reference%253AGenericFileWriter_Class.html">GenericFileWriter</a></li><li class="toc2"><a href="Programming_Reference%253ABCI2000FileReader_Class.html">BCI2000FileReader</a></li></ul><li class="toc1">Signal Processing</li><ul><li class="toc2"><a href="Programming_Reference%253AIIRFilterBase_Class.html">IIR Filters</a></li></ul><li class="toc1">Application Modules</li><ul><li class="toc2"><a href="Programming_Reference%253AApplicationBase_Class.html">ApplicationBase</a></li><li class="toc2"><a href="Programming_Reference%253AFeedbackTask_Class.html">FeedbackTask</a></li><li class="toc2"><a href="Programming_Reference%253AStimulusTask_Class.html">StimulusTask</a></li><li class="toc2"><a href="Programming_Reference%253A3D_API.html">3D API</a></li></ul><li class="toc1">Howtos</li><ul><li class="toc2"><a href="Programming_Howto%253ABuilding_BCI2000.html">Building BCI2000</a></li><li class="toc2"><a href="Programming_Howto%253ASVN_Client_Setup.html">SVN Client Setup</a></li><li class="toc2"><a href="Programming_Howto%253AUsing_TortoiseSVN.html">Using TortoiseSVN</a></li></ul><li class="toc1"><a href="Programming_FAQ.html">FAQ</a></li><li class="toc1">Tutorials</li><ul><li class="toc2"><a href="Programming_Tutorial%253AImplementing_a_Data_Acquisition_Module.html">Data Acquisition</a></li><li class="toc2"><a href="Programming_Tutorial%253AImplementing_a_Signal_Processing_Filter.html">Signal Processing</a></li><li class="toc2"><a href="Programming_Tutorial%253AImplementing_a_Matlab-based_Filter.html">Matlab Signal Processing</a></li></ul></ul><p class="toc0"><a href="Contributions%253AContents.html">Contributions</a></p><ul></ul><hr class="sep" /><p class="toc0"><a href="BCI2000_Glossary.html">BCI2000 Glossary</a></p> </div>
 <div id='article'>
 <h1 class = "pagetitle">Filter Chain</h1>
 <p class = "subtitle">Programming Reference</p>
 <hr class = "sep" />
 <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output"><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Programming_Reference%253AFilter_Chain.html#The_Filter_Chain"><span class="tocnumber">1</span> <span class="toctext">The Filter Chain</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Programming_Reference%253AFilter_Chain.html#Filter_Instantiation"><span class="tocnumber">2</span> <span class="toctext">Filter Instantiation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="Programming_Reference%253AFilter_Chain.html#Signal_Processing_Filter_Instantiation"><span class="tocnumber">3</span> <span class="toctext">Signal Processing Filter Instantiation</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="Programming_Reference%253AFilter_Chain.html#Recreating_Filter_Chains_Offline"><span class="tocnumber">4</span> <span class="toctext">Recreating Filter Chains Offline</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="The_Filter_Chain">The Filter Chain</span></h2>
<p>As noted in the <a href="Programming_Reference%253AGenericFilter_Class.html" title="Programming Reference:GenericFilter Class">discussion</a> of the <tt>GenericFilter::Process</tt> function, all <tt>GenericFilter</tt> descendants inside a BCI2000
module form a single chain of <a href="User_Reference%253AFilters.html" title="User Reference:Filters">filters</a>. Each filter's output forms the input of the
subsequent filter.
</p><p>For each module, the filter chain is documented in its own <tt>FilterChain</tt> parameter, which is located in the System/Configuration section.
</p>
<h2><span class="mw-headline" id="Filter_Instantiation">Filter Instantiation</span></h2><p>
Creating instances of all filter classes inside a module, and building the filter chain, is handled by the framework. However, it needs a hint to determine the sequence in which filters are to be arranged. In general, this hint consists of a single statement placed inside your filter's .cpp file:</p><pre>RegisterFilter( MyFilter, 2.C );</pre>
<p>The first argument to this statement is the class name of your filter;
the second argument is a string value (given without quotes) that determines the
relative position of your filter in the filter chain.
This is done by applying the simple rule that the filter positions in the chain match the alphanumeric sorting order of the associated postion strings of the filters. 
This scheme allows you to place an additional filter between existing ones without changing the position strings of the existing filters.
</p><p>As a rule, use position strings beginning with
</p>
<ul><li>1. for filters that go into source modules,</li>
<li>2. for filters from signal processing modules,</li>
<li>3. for filters from application modules.</li></ul>
<h2><span class="mw-headline" id="Signal_Processing_Filter_Instantiation">Signal Processing Filter Instantiation</span></h2>
<p>In principle, the above scheme allows to you add filters to a module's filter chain
without
modification to the existing source code, simply by adding a .cpp file
with a
<tt>RegisterFilter</tt> statement to the project.
However for Signal Processing modules, it is more desirable to
have an
explicit representation of the entire filter chain centralized in one
place.
So, for each individual Signal Processing module there is one file
<tt>PipeDefinition.cpp</tt> that defines the filter chain as a
sequence of
<tt>Filter</tt> statements (see <a href="Programming_Tutorial%253AImplementing_a_Signal_Processing_Filter.html" title="Programming Tutorial:Implementing a Signal Processing Filter">Programming Tutorial:Implementing a Signal Processing Filter</a> for
an
example).
In other modules, filters' default position will be suitable in general. Still, you may add a <tt>PipeDefinition.cpp</tt> with a sequence of <tt>Filter</tt> statements to the module. In this case, positions defined in <tt>PipeDefinition.cpp</tt> will take precedence over the filters' default positions.
</p>
<h2><span class="mw-headline" id="Recreating_Filter_Chains_Offline">Recreating Filter Chains Offline</span></h2>
<p>The <a href="User_Reference%253ACommand_Line_Processing.html" title="User Reference:Command Line Processing">BCI2000 command-line tools</a> can be used to recreate a filter-chain offline, from a system command-line. The Matlab function <tt>bci2000chain</tt>, part of BCI2000's suite of <a href="User_Reference%253AMatlab_Tools.html" title="User Reference:Matlab Tools">Matlab tools</a>, provides a convenient interface to this from within Matlab.
</p>
<!-- 
NewPP limit report
Cached time: 20230524001149
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.011 seconds
Real time usage: 0.014 seconds
Preprocessor visited node count: 19/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 44/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key wikidb-bci_:pcache:idhash:1448-0!canonical and timestamp 20230524001149 and revision id 6434
 -->
</div></div><div class="printfooter">
Retrieved from "<a dir="ltr" href="http://www.bci2000.org/mediawiki/index.php?title=Programming_Reference:Filter_Chain&amp;oldid=6434">http://www.bci2000.org/mediawiki/index.php?title=Programming_Reference:Filter_Chain&amp;oldid=6434</a>"</div>
 </div>
</body>
</html>